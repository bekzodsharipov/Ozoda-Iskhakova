const p=[{name:"Uzbekistan",code:"+998"},{name:"Tajikistan",code:"+992"},{name:"Qirg'iziston",code:"+996"},{name:"Qozog'iston",code:"+7"},{name:"Turkmaniston",code:"+993"},{name:"AQSH",code:"+1"},{name:"Janubiy Koreya",code:"+82"},{name:"Turkiya",code:"+90"},{name:"Rossiya",code:"+7"},{name:"BAA (Dubay)",code:"+971"},{name:"United Kingdom",code:"+44"},{name:"Ireland",code:"+353"},{name:"France",code:"+33"},{name:"Germany",code:"+49"},{name:"Italy",code:"+39"},{name:"Spain",code:"+34"},{name:"Portugal",code:"+351"},{name:"Netherlands",code:"+31"},{name:"Belgium",code:"+32"},{name:"Luxembourg",code:"+352"},{name:"Switzerland",code:"+41"},{name:"Austria",code:"+43"},{name:"Polsha",code:"+48"},{name:"Czechia",code:"+420"},{name:"Slovakia",code:"+421"},{name:"Hungary",code:"+36"},{name:"Slovenia",code:"+386"},{name:"Croatia",code:"+385"},{name:"Bosnia & Herzegovina",code:"+387"},{name:"Serbia",code:"+381"},{name:"Montenegro",code:"+382"},{name:"North Macedonia",code:"+389"},{name:"Albania",code:"+355"},{name:"Greece",code:"+30"},{name:"Bulgaria",code:"+359"},{name:"Romania",code:"+40"},{name:"Moldova",code:"+373"},{name:"Ukraine",code:"+380"},{name:"Belarus",code:"+375"},{name:"Lithuania",code:"+370"},{name:"Latvia",code:"+371"},{name:"Estonia",code:"+372"},{name:"Norway",code:"+47"},{name:"Sweden",code:"+46"},{name:"Denmark",code:"+45"},{name:"Finland",code:"+358"},{name:"Iceland",code:"+354"},{name:"Malta",code:"+356"},{name:"Cyprus",code:"+357"},{name:"Monaco",code:"+377"},{name:"Andorra",code:"+376"},{name:"Liechtenstein",code:"+423"},{name:"Kosovo",code:"+383"},{name:"Georgia",code:"+995"},{name:"Azerbaijan",code:"+994"},{name:"Armenia",code:"+374"},{name:"China",code:"+86"},{name:"Japan",code:"+81"},{name:"India",code:"+91"},{name:"Pakistan",code:"+92"},{name:"Bangladesh",code:"+880"},{name:"Sri Lanka",code:"+94"},{name:"Nepal",code:"+977"},{name:"Afghanistan",code:"+93"},{name:"Indonesia",code:"+62"},{name:"Malaysia",code:"+60"},{name:"Singapore",code:"+65"},{name:"Thailand",code:"+66"},{name:"Vietnam",code:"+84"},{name:"Philippines",code:"+63"},{name:"Cambodia",code:"+855"},{name:"Laos",code:"+856"},{name:"Myanmar",code:"+95"},{name:"Mongolia",code:"+976"},{name:"Hong Kong",code:"+852"},{name:"Macau",code:"+853"},{name:"Maldives",code:"+960"},{name:"Brunei",code:"+673"},{name:"Timor-Leste",code:"+670"},{name:"Saudi Arabia",code:"+966"},{name:"Qatar",code:"+974"},{name:"Kuwait",code:"+965"},{name:"Oman",code:"+968"},{name:"Bahrain",code:"+973"},{name:"Jordan",code:"+962"},{name:"Lebanon",code:"+961"},{name:"Syria",code:"+963"},{name:"Iraq",code:"+964"},{name:"Iran",code:"+98"},{name:"Israel",code:"+972"},{name:"Palestine",code:"+970"},{name:"Yemen",code:"+967"}];function setupPhoneFormatter({phoneInput:e,selectedCountryBtn:n,selectedCodeEl:a,dropdownEl:o,dropdownIconEl:t,errorEl:d,defaultCode:c="+998",countries:p,formatMap:r}){if(!(e&&n&&a&&o))return null;if(!p||!Array.isArray(p)||!r)return null;let m=(g=c,String(g||"").match(/\+\d+/)?.[0]||"+998");var g;const i=e=>{const n=r[e]||r["+998"],a=n.g;return{placeholder:n.ph,maxLen:a.reduce(((e,n)=>e+n),0)+(a.length-1),validate:new RegExp("^"+a.map((e=>`\\d{${e}}`)).join("\\s")+"$"),formatDigits(e){const n=[];let o=0;for(const t of a){if(o>=e.length)break;n.push(e.slice(o,o+t)),o+=t}return n.join(" ")}}},h=e=>{t&&(t.innerHTML=e?'<polyline points="18 15 12 9 6 15"></polyline>':'<polyline points="6 9 12 15 18 9"></polyline>')},l=()=>{a.textContent=m;const e=p.find((e=>e.code===m))||p.find((e=>"+998"===e.code))||p[0];n.setAttribute("title",e?.name||m)},s=()=>{o.style.display="none",h(!1)},u=n=>{if(!n)return void(e.value="");const a=n.trim();let o=a;const t=(e=>{const n=String(e||"").trim();if(!n.startsWith("+"))return null;const a=Object.keys(r).sort(((e,n)=>n.length-e.length));for(const e of a)if(n.startsWith(e))return e;return null})(a);t&&t!==m?(m=t,l(),o=a.slice(t.length)):t&&(o=a.slice(t.length));const d=i(m),c=o.replace(/\D/g,"");e.placeholder=d.placeholder,e.maxLength=d.maxLen,e.value=d.formatDigits(c)};function y(n){if(n.preventDefault(),n.stopPropagation(),"block"===o.style.display)return s();o.innerHTML="",p.forEach((n=>{const a=document.createElement("div");a.className="country-option"+(n.code===m?" selected":""),a.innerHTML=`\n        <span class="country-name">${n.name}</span>\n        <div style="display:flex; gap:8px; align-items:center;">\n          <span class="country-code">${n.code}</span>\n        </div>\n      `,a.addEventListener("click",(()=>{m=n.code,l();const a=i(m);e.placeholder=a.placeholder,e.maxLength=a.maxLen,e.value="",d&&(d.style.display="none"),s()})),o.appendChild(a)})),o.style.display="block",h(!0)}n.addEventListener("click",y),n.addEventListener("touchstart",y,{passive:!1}),o.addEventListener("click",(e=>e.stopPropagation())),document.addEventListener("click",(e=>{n.contains(e.target)||o.contains(e.target)||s()})),e.addEventListener("input",(e=>{u(e.target.value),d&&(d.style.display="none")})),e.addEventListener("change",(e=>u(e.target.value))),l();const v=i(m);return e.placeholder=v.placeholder,e.maxLength=v.maxLen,{getCurrentCode:()=>m,validate:e=>i(m).validate.test(String(e||"").trim())}}g={"+44":{ph:"7400 123 456",g:[4,3,3]},"+353":{ph:"83 123 4567",g:[2,3,4]},"+33":{ph:"6 12 34 56 78",g:[1,2,2,2,2]},"+49":{ph:"1512 3456789",g:[4,7]},"+39":{ph:"312 345 6789",g:[3,3,4]},"+34":{ph:"612 34 56 78",g:[3,2,2,2]},"+351":{ph:"912 345 678",g:[3,3,3]},"+31":{ph:"6xx 123 4567",g:[3,3,4]},"+32":{ph:"4xx 12 34 56",g:[3,2,2,2]},"+352":{ph:"621 234 567",g:[3,3,3]},"+41":{ph:"79 123 45 67",g:[2,3,2,2]},"+43":{ph:"650 123 4567",g:[3,3,4]},"+48":{ph:"123 456 789",g:[3,3,3]},"+420":{ph:"123 456 789",g:[3,3,3]},"+421":{ph:"912 345 678",g:[3,3,3]},"+36":{ph:"30 123 4567",g:[2,3,4]},"+386":{ph:"31 234 567",g:[2,3,3]},"+385":{ph:"91 234 5678",g:[2,3,4]},"+387":{ph:"61 234 567",g:[2,3,3]},"+381":{ph:"60 123 4567",g:[2,3,4]},"+382":{ph:"67 123 456",g:[2,3,3]},"+389":{ph:"70 123 456",g:[2,3,3]},"+355":{ph:"68 123 4567",g:[2,3,4]},"+30":{ph:"691 234 5678",g:[3,3,4]},"+359":{ph:"87 123 4567",g:[2,3,4]},"+40":{ph:"712 345 678",g:[3,3,3]},"+373":{ph:"621 234 567",g:[3,3,3]},"+380":{ph:"67 123 4567",g:[2,3,4]},"+375":{ph:"29 123 45 67",g:[2,3,2,2]},"+370":{ph:"612 34567",g:[3,5]},"+371":{ph:"21 234 567",g:[2,3,3]},"+372":{ph:"5123 4567",g:[4,4]},"+47":{ph:"412 34 567",g:[3,2,3]},"+46":{ph:"7xx 123 456",g:[3,3,3]},"+45":{ph:"12 34 56 78",g:[2,2,2,2]},"+358":{ph:"40 123 4567",g:[2,3,4]},"+354":{ph:"611 2345",g:[3,4]},"+356":{ph:"9912 3456",g:[4,4]},"+357":{ph:"96 123 456",g:[2,3,3]},"+377":{ph:"6 12 34 56 78",g:[1,2,2,2,2]},"+376":{ph:"612 345",g:[3,3]},"+423":{ph:"79 123 45 67",g:[2,3,2,2]},"+383":{ph:"43 123 456",g:[2,3,3]},"+995":{ph:"555 12 34 56",g:[3,2,2,2]},"+994":{ph:"50 123 45 67",g:[2,3,2,2]},"+374":{ph:"91 234 567",g:[2,3,3]},"+7":{ph:"900 123 4567",g:[3,3,4]},"+998":{ph:"88 888 88 88",g:[2,3,2,2]},"+992":{ph:"55 555 5555",g:[2,3,4]},"+996":{ph:"555 123 456",g:[3,3,3]},"+993":{ph:"6 123 4567",g:[1,3,4]},"+1":{ph:"555 123 4567",g:[3,3,4]},"+82":{ph:"10 1234 5678",g:[2,4,4]},"+90":{ph:"5xx 123 45 67",g:[3,3,2,2]},"+971":{ph:"50 123 4567",g:[2,3,4]},"+86":{ph:"131 2345 6789",g:[3,4,4]},"+81":{ph:"90 1234 5678",g:[2,4,4]},"+91":{ph:"91234 56789",g:[5,5]},"+92":{ph:"301 234 5678",g:[3,3,4]},"+880":{ph:"17 1234 5678",g:[2,4,4]},"+94":{ph:"71 234 5678",g:[2,3,4]},"+977":{ph:"981 234 5678",g:[3,3,4]},"+93":{ph:"70 123 4567",g:[2,3,4]},"+62":{ph:"812 1234 5678",g:[3,4,4]},"+60":{ph:"12 345 6789",g:[2,3,4]},"+65":{ph:"8123 4567",g:[4,4]},"+66":{ph:"81 234 5678",g:[2,3,4]},"+84":{ph:"91 234 5678",g:[2,3,4]},"+63":{ph:"912 345 6789",g:[3,3,4]},"+855":{ph:"12 345 678",g:[2,3,3]},"+856":{ph:"20 1234 5678",g:[2,4,4]},"+95":{ph:"9 1234 5678",g:[1,4,4]},"+976":{ph:"8812 3456",g:[4,4]},"+852":{ph:"5123 4567",g:[4,4]},"+853":{ph:"6612 3456",g:[4,4]},"+960":{ph:"771 2345",g:[3,4]},"+673":{ph:"712 3456",g:[3,4]},"+670":{ph:"77 123 456",g:[2,3,3]},"+966":{ph:"50 123 4567",g:[2,3,4]},"+974":{ph:"3312 3456",g:[4,4]},"+965":{ph:"5001 2345",g:[4,4]},"+968":{ph:"9212 3456",g:[4,4]},"+973":{ph:"3412 3456",g:[4,4]},"+962":{ph:"7 9012 3456",g:[1,4,4]},"+961":{ph:"71 234 567",g:[2,3,3]},"+963":{ph:"93 123 4567",g:[2,3,4]},"+964":{ph:"770 123 4567",g:[3,3,4]},"+98":{ph:"912 345 6789",g:[3,3,4]},"+972":{ph:"50 123 4567",g:[2,3,4]},"+970":{ph:"59 123 4567",g:[2,3,4]},"+967":{ph:"71 234 5678",g:[2,3,4]}},document.addEventListener("DOMContentLoaded",(()=>{window.phoneFormatter=setupPhoneFormatter({phoneInput:document.getElementById("phone"),selectedCountryBtn:document.getElementById("selectedCountry"),selectedFlagEl:document.getElementById("selectedCountryFlag"),selectedCodeEl:document.getElementById("selectedCountryCodeText"),dropdownEl:document.getElementById("countryDropdown"),dropdownIconEl:document.getElementById("dropdownIcon"),errorEl:document.getElementById("phoneError"),defaultCode:"+998",countries:p,formatMap:g})}));